---
layout: post
title: "读书笔记-《TCP-IP详解》"
description: "读书笔记-《TCP-IP详解》"
category: "tech"
tags: [读书笔记,tcp]

---
{% include JB/setup %}

分层

- 应用层：Telnet/FTP/SMTP/SNMP
- 传输层：TCP/UDP
- 网络层：IP/ICMP/IGMP
- 链路层：设备驱动程序及接口卡

网络互连设备主要是IP路由器(IP Router)，但我们这里使用路由器(Router)这个术语。从历史上说，这些盒子称作网关(gateway)，在很多TCP/IP文献中都使用这个术语。现在网关这个术语只用来表示应用层网关：一个连接两种不同协议族的进程(例如，TCP/IP和IBM的SNA)，它为某个特定的应用程序服务（常常是电子邮件或文件传输）。

![](/images/tcpip-1-3.png)  
![](/images/tcpip-1-4.png)  
![](/images/tcpip-1-2.png)  

- UDP：数据与TCP数据基本一致，但首部长为8字节,称UDP数据报(datagram)，
- TCP/UDP首部：包括源端口号和目的端口号，标识不同应用（端口号16bit）
- IP首部：有一个长度为8bit的协议域，标识TCP、UDP、ICMP、IGMP
- 以太网帧首：部有一个16bit的帧类型域，标识IP、ARP、RARP

![](/images/tcpip-1-8.png)

地址分类

    A:0.0.0.0  -  127.255.255.255
    |0|-网络号(7)-|------------主机号(24)---------- |
    B:128.0.0.0 - 191.255.255.255
    |1|0|-----网络号(14)-----|--------主机号(16)----|
    C:192.0.0.0 - 223.255.255.255 
    |1|1|0|--------网络号(21)---------|--主机号(8)--|
    D:224.0.0.0 - 239.255.255.255 
    |1|1|1|0|----------------多播组号(28)-----------|
    E:240.0.0.0 - 247.255.255.255 
    |1|1|1|1|0|--------------留待后用(27)-----------|

- /etc/services 包含人们熟知的端口号(grep telnet /etc/services)
- 保留端口号介于1 ~ 1023之间

TTL（time-to-live）生存时间字段设置了数据报可以经过的最多路由器数

    netstat -in    #打印每个接口的MTU
    arp -a     #显示arp高速缓存中的所有内容

看到了第四章

